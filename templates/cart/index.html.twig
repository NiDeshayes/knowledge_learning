{% extends 'base.html.twig' %}

{% block title %}Votre Panier | Boutique de Formations{% endblock %}

{% block body %}
<style>
    /* Styles globaux et autres styles ici... */
    .cart-section {
        padding: 20px;
    }
    .cart-title {
        font-size: 1.5em;
        margin-bottom: 20px;
    }
    .cart-item {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
    }
    .cart-item img {
        width: 100px; /* Ajustez la largeur selon vos besoins */
        height: auto;
        margin-right: 20px;
    }
    .price {
        font-weight: bold;
    }
    .total {
        font-size: 1.2em;
        margin-top: 20px;
    }
    .btn {
        padding: 10px 15px;
        background-color: #007BFF; /* Exemple de couleur */
        color: white;
        border: none;
        cursor: pointer;
        border-radius: 5px;
        text-decoration: none;
    }
    .btn:hover {
        background-color: #0056b3; /* Couleur au survol */
    }
</style>

<header>
    <h1>Votre Panier</h1>
</header>

<section class="cart-section">
    <h2 class="cart-title">Produits dans votre panier</h2>

    <div class="cart-items">
        {% for item in cartItems %}
        <div class="cart-item">
            <img src="{{ asset('images/' ~ item.item.image) }}" alt="{{ item.item.title }}"> {# Assurez-vous que item.item.image contient le bon chemin #}
            <div>
                <h3>{{ item.item.title }}</h3>
                <p>Quantité : {{ item.quantity }}</p>
            </div>
            <div>
                <p class="price">{{ (item.price / 100)|number_format(2, ',', ' ') }} €</p>
                <form action="{{ path('cart_remove', {type: item.type ~ 's', id: item.item.id}) }}" method="post" style="display:inline;">
                    <button type="submit" class="btn">Supprimer</button>
                </form>
                <form action="{{ path('app_add_course_to_cart', {id: item.item.id}) }}" method="post" style="display:inline;">
                    <input type="number" name="quantity" value="{{ item.quantity }}" class="quantity-input" min="1" />
                    <button type="submit" class="btn">Mettre à jour</button>
                </form>
            </div>
        </div>
        {% endfor %}
    </div>

    <p class="total">Total: {{ (total / 100)|number_format(2, ',', ' ') }} €</p>

    <a href="{{ path('cart_checkout') }}" class="btn">Continuer vers le paiement</a>
    <a href="{{ path('app_courses') }}" class="btn">Continuer vos achats</a>
</section>

{% endblock %}
