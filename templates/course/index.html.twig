{# templates/course/index.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}Cursus{% endblock %}

{% block body %}
    <style>
        /* Styles pour la page des cursus */
        header {
            display: flex; /* Utiliser flexbox pour centrer le contenu */
            flex-direction: column; /* Empiler verticalement */
            align-items: center; /* Centrer horizontalement */
            margin-bottom: 40px;
        }

        h1 {
            font-size: 2.5rem;
            color: #343a40;
            margin-top: 20px; /* Espace au-dessus du titre */
        }

        .search-form {
            margin-bottom: 20px; /* Espace entre la barre de recherche et le titre */
            display: flex; /* Flexbox pour aligner l'input et le bouton */
            justify-content: center; /* Centrer la barre de recherche */
        }

        .search-form input {
            padding: 10px;
            width: 250px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-right: 10px; /* Espace entre l'input et le bouton */
        }

        .search-form button {
            padding: 10px 15px;
            border: none;
            background-color: #343a40;
            color: #fff;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .search-form button:hover {
            background-color: #495057;
        }

        .course-list {
            display: grid; /* Utilisation de grid pour 3 colonnes */
            grid-template-columns: repeat(3, 1fr);
            gap: 20px; /* Espacement entre les cours */
            padding: 0 20px; /* Ajout de padding pour éviter que les éléments touchent les bords */
        }

        .course-item {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            padding: 20px;
            text-align: center;
            transition: transform 0.2s;
        }

        .course-item:hover {
            transform: scale(1.05);
        }

        .course-item img {
            max-width: 100%;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .course-item h2 {
            font-size: 1.5rem;
            color: #343a40;
        }

        .course-theme {
            font-size: 1rem;
            color: #666;
        }

        .course-price {
            font-size: 1.2rem;
            font-weight: bold;
            color: #ffc107;
        }

        /* Media Queries pour rendre la page responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .course-list {
                grid-template-columns: repeat(2, 1fr); /* 2 colonnes sur les écrans plus petits */
            }

            .course-item {
                width: 90%; /* Remplir l'espace sur les écrans plus petits */
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.5rem;
            }

            .search-form input {
                width: 100%; /* Remplir l'espace sur les écrans très petits */
            }

            .course-list {
                grid-template-columns: 1fr; /* 1 colonne sur les écrans très petits */
            }
        }
    </style>

    <header>
        <form method="GET" action="{{ path('app_courses') }}" class="search-form">
            <input type="text" name="search" value="{{ searchTerm }}" placeholder="Rechercher...">
            <button type="submit">Rechercher</button>
        </form>
        <h1>Cursus</h1>
    </header>

    <section class="course-list">
        {% for course in courses %}
            <div class="course-item">
                <a href="{{ path('app_course_detail', { id: course.id }) }}">
                    <img src="{{ asset('images/' ~ course.image) }}" alt="{{ course.title }}">
                    <h2>{{ course.title }}</h2>
                    <p class="course-theme">{{ course.theme }}</p>
                    <p class="course-price">{{ course.price }} €</p>
                </a>
            </div>
        {% endfor %}
    </section>

{% endblock %}
